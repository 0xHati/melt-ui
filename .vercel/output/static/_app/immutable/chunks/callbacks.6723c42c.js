import{U as $}from"./scheduler.2943ef39.js";import{d}from"./index.cb808db3.js";import{i as g}from"./index.a1398546.js";function w(t){return g?document.querySelector(`[data-melt-id="${t}"]`):null}function S(t,r){return d(t,r)}function h(t,r){let e=[];const o=s=>{e.push(s)},n=()=>{e.forEach(s=>s()),e=[]},u=d(t,s=>(n(),r(s,o)));return $(n),u}function U(t,r){const e=h(t,(o,n)=>({stores:o,onUnsubscribe:n})).subscribe(({stores:o,onUnsubscribe:n})=>{const u=r(o);u&&n(u)});return $(e),e}const b=t=>new Proxy(t,{get(r,e,o){return Reflect.get(r,e,o)},ownKeys(r){return Reflect.ownKeys(r).filter(e=>e!=="action")}});function m(t){function r(e){return e(t),()=>{}}return{subscribe:r}}const y=t=>typeof t=="function";function k(t,r){const{stores:e,action:o,returned:n}=r??{},u=(()=>{if(e&&n)return d(e,i=>{const c=n(i);if(y(c)){const a=(...f)=>({...c(...f),[`data-melt-${t}`]:""});return a.action=o??l,a}return b({...c,[`data-melt-${t}`]:"",action:o??l})});{const i=n,c=i==null?void 0:i();if(y(c)){const a=(...f)=>({...c(...f),[`data-melt-${t}`]:""});return a.action=o??l,m(a)}return m(b({...c,[`data-melt-${t}`]:"",action:o??l}))}})(),s=o??(()=>{});return s.subscribe=u.subscribe,s}function q(t){const r=n=>n?`${t}-${n}`:t,e=n=>`[data-melt-${t}${n?`-${n}`:""}]`;return{name:r,selector:e,getEl:n=>document.querySelector(e(n))}}function B(...t){return(...r)=>{for(const e of t)typeof e=="function"&&e(...r)}}function l(){}export{B as a,k as b,q as c,h as d,U as e,w as g,b as h,l as n,S as t};
