import{D as x}from"./scheduler.2943ef39.js";import{w as D,d as A}from"./index.cb808db3.js";import{b,a as k}from"./index.a1398546.js";import{o as z,g as F,k as i}from"./create.6a8ca084.js";import{a as P,n as w}from"./callbacks.6723c42c.js";import{h as c}from"./check-circle.1739929e.js";const G={type:"single",orientation:"horizontal",loop:!0,rovingFocus:!0,disabled:!1,value:null};function S(O={}){const v={...G,...O},f=D(z(v,"value")),l=D(v.value);f.subscribe(t=>{l.update(r=>t.type==="single"&&Array.isArray(r)?null:t.type==="multiple"&&!Array.isArray(r)?r===null?[]:[r]:r)});const _=A(f,t=>({role:"group","data-orientation":t.orientation,"data-melt-toggle-group":""})),E={...A([f,l],([t,r])=>s=>{const u=typeof s=="string"?s:s.value,m=typeof s=="string"?!1:!!s.disabled,d=t.disabled||m,p=Array.isArray(r)?r.includes(u):r===u;return{disabled:d,pressed:p,"data-orientation":t.orientation,"data-disabled":d?!0:void 0,"data-state":p?"on":"off","data-value":u,"aria-pressed":p,type:"button","data-melt-toggle-group-item":"",role:t.type==="single"?"radio":void 0,tabindex:p?0:-1}}),action:t=>{let r=w;const s=()=>{const e=t.dataset.value,n=t.dataset.disabled==="true";return{value:e,disabled:n}},u=t.closest("[data-melt-toggle-group]");if(!b(u))return;const m=Array.from(u.querySelectorAll("[data-melt-toggle-group-item]")),d=x(l);return!(Array.isArray(d)?d.length>0:d!==null)&&m[0]===t&&(t.tabIndex=0),r=P(k(t,"click",()=>{const{value:e,disabled:n}=s();e===void 0||n||l.update(o=>Array.isArray(o)?o.includes(e)?o.filter(y=>y!==e):[...o,e]:o===e?null:e)}),k(t,"keydown",e=>{const n=x(f);if(!n.rovingFocus)return;const o=e.currentTarget;if(!b(o))return;const y=o.closest("[data-melt-toggle-group]");if(!b(y))return;const a=Array.from(y.querySelectorAll("[data-melt-toggle-group-item]:not([data-disabled])")),R=a.indexOf(o),h=F(o),W={horizontal:h==="rtl"?i.ARROW_LEFT:i.ARROW_RIGHT,vertical:i.ARROW_DOWN}[n.orientation??"horizontal"],I={horizontal:h==="rtl"?i.ARROW_RIGHT:i.ARROW_LEFT,vertical:i.ARROW_UP}[n.orientation??"horizontal"];if(e.key===W){e.preventDefault();const g=R+1;g>=a.length?n.loop&&c(a[0]):c(a[g])}else if(e.key===I){e.preventDefault();const g=R-1;g<0?n.loop&&c(a[a.length-1]):c(a[g])}else e.key===i.HOME?(e.preventDefault(),c(a[0])):e.key===i.END&&(e.preventDefault(),c(a[a.length-1]))})),{destroy:r}}},T=A(l,t=>r=>Array.isArray(t)?t.includes(r):t===r);return{options:f,value:l,root:_,item:E,isPressed:T}}export{S as c};
