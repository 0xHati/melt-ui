import{D as N,s as P,n as w,G as R,H as T,b as q,f as S,I as E,i as H,A,o as B}from"./scheduler.2943ef39.js";import{w as D,d as p}from"./index.cb808db3.js";import{a as f}from"./index.a1398546.js";import{o as I,k as b}from"./create.6a8ca084.js";import{a as k}from"./callbacks.6723c42c.js";import{g as O}from"./spread.8a54911c.js";import{S as W,i as C}from"./index.c70d9825.js";function L({page:u=1,totalPages:e,siblingCount:l=1}){const r=[],i=new Set([1,e]),s=3+l,c=e-2-l;if(s>c)for(let a=2;a<=e-1;a++)i.add(a);else if(u<s)for(let a=2;a<=Math.min(s,e);a++)i.add(a);else if(u>c)for(let a=e-1;a>=Math.max(c,2);a--)i.add(a);else for(let a=Math.max(u-l,2);a<=Math.min(u+l,e);a++)i.add(a);const y=a=>{r.push({type:"page",value:a,key:`page-${a}`})},g=()=>{r.push({type:"ellipsis",key:`ellipsis-${r.length}`})};let h=0;for(const a of Array.from(i).sort((_,t)=>_-t))a-h>1&&g(),y(a),h=a;return r}const G={perPage:1,siblingCount:1,page:1};function Y(u){const e={...G,...u},l=D(I(e,"page")),r=D(e.page),i=p([l],([t])=>Math.ceil(t.count/t.perPage)),s=p([r,l],([t,n])=>{const o=(t-1)*n.perPage,m=Math.min(o+n.perPage,n.count);return{start:o,end:m}}),c={"data-scope":"pagination"},y=p([r,i,l],([t,n,{siblingCount:o}])=>L({page:t,totalPages:n,siblingCount:o})),g=t=>{const n=t.target,o=n.closest('[data-scope="pagination"]');if(!o)return;const m=Array.from(o.querySelectorAll('[data-melt-part="page-trigger"]')),x=o.querySelector('[data-melt-part="page-prev-button"]'),M=o.querySelector('[data-melt-part="page-next-button"]'),d=[...m];x&&d.unshift(x),M&&d.push(M);const v=Array.from(d).indexOf(n);t.key===b.ARROW_LEFT&&v!==0?(t.preventDefault(),d[v-1].focus()):t.key===b.ARROW_RIGHT&&v!==d.length-1?(t.preventDefault(),d[v+1].focus()):t.key===b.HOME?(t.preventDefault(),d[0].focus()):t.key===b.END&&(t.preventDefault(),d[d.length-1].focus())},h={...p(r,t=>n=>({"aria-label":`Page ${n.value}`,"data-value":n.value,"data-selected":n.value===t?"":void 0,"data-melt-part":"page-trigger"})),action:t=>({destroy:k(f(t,"click",()=>{const o=t.dataset.value;!o||Number.isNaN(+o)||r.set(Number(o))}),f(t,"keydown",g))})},a={...p([r],([t])=>({"aria-label":"Previous",disabled:t<=1,"data-melt-part":"page-prev-button"})),action:t=>({destroy:k(f(t,"click",()=>{r.update(o=>Math.max(o-1,1))}),f(t,"keydown",g))})},_={...p([r,i],([t,n])=>({"aria-label":"Next",disabled:t>=n,"data-melt-part":"page-next-button"})),action:t=>({destroy:k(f(t,"click",()=>{const o=N(i);r.update(m=>Math.min(m+1,o))}),f(t,"keydown",g))})};return{root:c,options:l,page:r,pages:y,pageTrigger:h,prevButton:a,nextButton:_,totalPages:i,range:s}}function j(u){let e,l='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 18l-6-6l6-6"/>',r=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},u[0]],i={};for(let s=0;s<r.length;s+=1)i=w(i,r[s]);return{c(){e=R("svg"),this.h()},l(s){e=T(s,"svg",{viewBox:!0,width:!0,height:!0});var c=q(e);c.forEach(S),this.h()},h(){E(e,i)},m(s,c){H(s,e,c),e.innerHTML=l},p(s,[c]){E(e,i=O(r,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},c&1&&s[0]]))},i:A,o:A,d(s){s&&S(e)}}}function F(u,e,l){return u.$$set=r=>{l(0,e=w(w({},e),B(r)))},e=B(e),[e]}class Z extends W{constructor(e){super(),C(this,e,F,j,P,{})}}export{Z as C,Y as c};
